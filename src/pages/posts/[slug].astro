---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const posts = await getCollection('blog');
  return posts.map(post => ({
    params: { slug: post.slug },
    props: { post },
  }));
}

const { post } = Astro.props;
const { Content } = await post.render();
---

<Layout title={post.data.title}>
  <div class="max-w-5xl px-4 xl:px-0 py-20 mx-auto">
    <article class="max-w-3xl mx-auto p-8">
      <div class="markdown-content prose prose-invert max-w-none prose-h1:text-4xl prose-h1:font-bold prose-h1:mb-6 prose-h2:text-3xl prose-h2:font-semibold prose-h2:mb-4 prose-h3:text-2xl prose-h3:font-semibold prose-h3:mb-3 prose-p:text-lg prose-p:text-neutral-300 prose-p:leading-relaxed prose-p:mb-4 prose-a:text-blue-400 prose-a:hover:text-blue-300 prose-a:underline prose-ul:list-disc prose-ul:pl-5 prose-ol:list-decimal prose-ol:pl-5 prose-li:mb-2 prose-blockquote:border-l-4 prose-blockquote:border-neutral-700 prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:my-4 prose-blockquote:text-neutral-400 prose-code:bg-neutral-800 prose-code:rounded prose-code:px-1 prose-code:py-0.5 prose-code:text-sm prose-code:text-neutral-300 prose-pre:bg-neutral-800 prose-pre:rounded prose-pre:p-4 prose-pre:mb-4 prose-pre:overflow-x-auto prose-img:rounded-lg prose-img:my-8">
        <Content />
      </div>
    </article>
  </div>
</Layout>
